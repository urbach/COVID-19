---
title: "COVID19"
author: "Carsten Urbach"
date: "10.03.2020"
output:
  pdf_document:
    
    citation_package: biblatex
    highlight: tango
    keep_tex: no
    latex_engine: xelatex
    number_sections: yes
    toc: yes
    toc_depth: 2
  html_document:
    
    theme: default
    df_print: paged
    toc: yes
    toc_depth: '2'
    number_sections: yes
    highlight: tango
    toc_float: yes
    code_folding: hide
link_citation: yes
mainfont: XCharter
lang: de-DE
#bibliography: Beispiel.bib
---

```{r setup, echo=FALSE}
xdatar <- read.csv("time_series_19-covid-Recovered.csv")
xdatad <- read.csv("time_series_19-covid-Deaths.csv")
xdata <- read.csv("time_series_19-covid-Confirmed.csv")
N <- dim(xdata)[2]
ii <- c(5:N)
```

# Disclaimer

Ich bin kein Mediziner, sondern theoretischer Physiker. 

# Die Daten

Als Datengrundlage für die folgende Analyse nutze ich die Daten, die
vom John Hopkins University Center for Systems Science and Engineering
(JHU CSSE) täglich aktuell zusammengestellt werden. Sie sind in einem
gihub [Repository](https://github.com/CSSEGISandData/COVID-19) zu
finden und frei verfügbar.

Die Daten stammen aus verschiedenen Quellen, z.B. der WHO, aber auch
aus den einzelnen Ländern. Es handelt sich natürlich nur um die
bestätigten Fälle, die tatsächliche Anzahl an Infektionen ist
möglicherweise viel höher. Letzteres muss man bei jeglichen
Vergleichen zwischen Ländern im Hinterkopf behalten.

# Bestätigte Infektionen

## Welt

Zunächst der Gesamtüberblick über die Anzahl der bestätigten
Infektionen als Funktion der Tage seit dem 22.1.2020.

```{r, echo=FALSE}
plot(y=as.vector(colSums(xdata[, ii])), x=ii,
     type='l', ylim=c(0,150000),
     xlab=c("Tage seit 22.01.2020"), ylab="Infektionen", col="red", lwd=1.5)
lines(y=as.vector(colSums(xdata[xdata$Country.Region=="Mainland China", ii])),
      x=ii, col="blue", lty=2, lwd=1.5)
lines(y=as.vector(colSums(xdata[xdata$Country.Region!="Mainland China", ii])),
      x=ii, col="black", lty=3, lwd=1.5)

legend("topleft",
       legend=c("Welt", "nur Festland China", "Welt ohne China"),
       bty="n",
       lty=c(1,2,3),
       col=c("red", "blue", "black"))
```

Man sieht eindrucksvoll, dass bis ca. zum 20. Februar die Infektionen
haupsächlich auf China begrenzt waren. Seitdem nimmt die offizielle
Anzahl an Neuinfektionen in China deutlich ab und sie steigt dafür
signifikant im Rest der Welt. Auf einer logarithmischen Skala kann man
die verschiedenen Regionen besser vergleichen:

```{r, echo=FALSE}
plot(y=as.vector(colSums(xdata[, ii])), x=ii,
     log="y", type='l', ylim=c(50,150000),
     xlab=c("Tage seit 22.01.2020"), ylab="Infektionen", col="red", lwd=1.5)
lines(y=as.vector(colSums(xdata[xdata$Country.Region=="Mainland China", ii])),
      x=ii, col="blue", lty=2, lwd=1.5)
lines(y=as.vector(colSums(xdata[xdata$Country.Region!="Mainland China", ii])),
      x=ii, col="black", lty=3, lwd=1.5)

legend("topleft",
       legend=c("Welt", "nur Festland China", "Alles ohne China"),
       bty="n",
       lty=c(1,2,3),
       col=c("red", "blue", "black"))
```

## Deutschland

```{r, echo=FALSE, warning=FALSE}
plot(y=as.vector(xdata[xdata$Country.Region=="Germany",])[ii], x=ii, log="y", type='l',
     xlab=c("Time/days"), ylab="Cases")
lines(y=as.vector(xdatar[xdata$Country.Region=="Germany",])[ii], x=ii, col="red")
lines(y=as.vector(xdatad[xdata$Country.Region=="Germany",])[ii], x=ii, col="blue")
legend("topleft",
       legend=c("Confirmed", "Recovered", "Deaths"),
       bty="n",
       col=c("black","red", "blue"),
       lty=c(1,1, 1))
```

## Verschiedene Länder im Vergleich

```{r, echo=FALSE, warning=FALSE}
plot(y=as.vector(xdata[xdata$Country.Region=="Italy",])[ii], x=ii,
     log="y", type='l', ylim=c(1,10000),
     xlab=c("Time/days"), ylab="Cases")
lines(y=as.vector(xdata[xdata$Country.Region=="Germany",])[ii], x=ii, col="red", lty=2)
lines(y=as.vector(colSums(xdata[xdata$Country.Region=="US",ii])), x=ii, col="blue", lty=3)
lines(y=as.vector(xdata[xdata$Country.Region=="South Korea",])[ii], x=ii, col="darkorange", lty=4)
lines(y=as.vector(xdata[xdata$Country.Region=="France",])[ii], x=ii, col="darkgreen", lty=5)
lines(y=as.vector(xdata[xdata$Country.Region=="Iran",])[ii], x=ii, col="grey", lty=5)
legend("topleft",
       legend=c("Italy", "Germany", "US", "South Korea", "France"),
       bty="n",
       col=c("black","red", "blue", "darkorange", "darkgreen"),
       lty=c(1:6))
```

```{r, echo=FALSE, warning=FALSE}
plot(y=as.vector(xdata[xdata$Country.Region=="Italy",])[ii], x=ii,
     log="y", type='l', ylim=c(1,10000),
     xlab=c("Time/days"), ylab="Cases")
lines(y=as.vector(xdata[xdata$Country.Region=="Germany",])[ii], x=ii, col="red", lty=2)
lines(y=as.vector(xdata[xdata$Country.Region=="South Korea",])[ii], x=ii, col="darkorange", lty=4)
lines(y=as.vector(xdata[xdata$Country.Region=="Japan",])[ii], x=ii, col="grey", lty=6)
legend("topleft",
       legend=c("Italy", "Germany", "South Korea", "Japan"),
       bty="n",
       col=c("black", "red", "darkorange", "grey"),
       lty=c(1:6))
```


# Todesfälle

```{r, echo=FALSE, warning=FALSE}
plot(y=as.vector(xdatad[xdatad$Country.Region=="Italy",])[ii], x=ii,
     log="y", type='l', ylim=c(1,1000),
     xlab=c("Time/days"), ylab="Deaths")
lines(y=as.vector(xdatad[xdatad$Country.Region=="Germany",])[ii], x=ii, col="red", lty=2)
lines(y=as.vector(colSums(xdatad[xdatad$Country.Region=="US",ii])), x=ii, col="blue", lty=3)
lines(y=as.vector(xdatad[xdatad$Country.Region=="South Korea",])[ii], x=ii, col="darkorange", lty=4)
lines(y=as.vector(xdatad[xdatad$Country.Region=="France",])[ii], x=ii, col="darkgreen", lty=5)
legend("topleft",
       legend=c("Italy", "Germany", "US", "South Korea", "France"),
       bty="n",
       col=c("black","red", "blue", "darkorange", "darkgreen"),
       lty=c(1:5))
```
